(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{4483:function(e,s,r){Promise.resolve().then(r.bind(r,9599))},9599:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return h}});var n=r(7437),t=r(6463);r(3631);var a=r(2265),c=r(7138);r(2973);var i=r(5110);function u(e){let{open:s,onClose:r}=e,t=(0,a.useRef)(null),[u,l]=(0,a.useState)("user1");return(0,a.useEffect)(()=>{if(!s)return;let e=e=>"Escape"===e.key&&r(),n=e=>{t.current&&!t.current.contains(e.target)&&r()};return document.addEventListener("keydown",e),document.addEventListener("mousedown",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("mousedown",n)}},[s,r]),(0,n.jsx)("div",{className:"usersmenu-overlay ".concat(s?"open":""),"aria-hidden":!s,children:(0,n.jsxs)("div",{className:"usersmenu-card",ref:t,role:"dialog","aria-modal":"true",children:[(0,n.jsxs)("label",{className:"usersmenu-user ".concat("user1"===u?"selected":""),children:[(0,n.jsx)("input",{type:"radio",name:"userAccount",checked:"user1"===u,onChange:()=>l("user1"),className:"usersmenu-radio-input"}),(0,n.jsxs)("div",{className:"usersmenu-user-left",children:[(0,n.jsx)("img",{className:"usersmenu-avatar",src:"/images/avatar.png",alt:""}),(0,n.jsxs)("div",{className:"usersmenu-user-meta",children:[(0,n.jsx)("div",{className:"usersmenu-name",children:"Ralph Edwards"}),(0,n.jsx)("div",{className:"usersmenu-email",children:"r.edwards2000@gmail.com"}),(0,n.jsx)("button",{className:"usersmenu-switch",children:"Switch to Business"})]})]}),(0,n.jsx)("span",{className:"usersmenu-radio-visual"})]}),(0,n.jsxs)("label",{className:"usersmenu-user ".concat("user2"===u?"selected":""),children:[(0,n.jsx)("input",{type:"radio",name:"userAccount",checked:"user2"===u,onChange:()=>l("user2"),className:"usersmenu-radio-input"}),(0,n.jsxs)("div",{className:"usersmenu-user-left",children:[(0,n.jsx)("img",{className:"usersmenu-avatar",src:"/images/VillaDeMarco.png",alt:""}),(0,n.jsxs)("div",{className:"usersmenu-user-meta",children:[(0,n.jsx)("div",{className:"usersmenu-name",children:"Villa De `Marco"}),(0,n.jsx)("div",{className:"usersmenu-email",children:"villademarco@gmail.com"})]})]}),(0,n.jsx)("span",{className:"usersmenu-radio-visual"})]}),(0,n.jsxs)("div",{className:"usermenu-buttons",children:[(0,n.jsxs)(i.Z,{color:"primary",type:"submit",children:[(0,n.jsx)("span",{className:"usersmenu-btn-plus"})," Add account"]}),(0,n.jsx)(i.Z,{color:"secondary",type:"submit",children:"Logout"})]}),(0,n.jsxs)("div",{className:"usermenu-footer-links",children:[(0,n.jsx)(c.default,{href:"/privacy",className:"usermenu-footer-link",children:"Privacy policy"}),(0,n.jsx)(c.default,{href:"/terms",className:"usermenu-footer-link",children:"Terms and conditions"})]})]})})}function l(e){let{fullWidth:s=!1}=e,[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),d=(0,t.usePathname)();(0,a.useEffect)(()=>{if(!document.querySelector(".header-wrapper"))return;let e=()=>{let e=window.scrollY>0;i(e);let s=Array.from(document.querySelectorAll(".section-to-fade"));if(!e){s.forEach(e=>e.style.opacity="1");return}s.forEach(e=>{let s=e.getBoundingClientRect(),r=s.bottom-153<=130&&s.bottom>0;e.style.transition="opacity 0.25s ease",e.style.opacity=r?"0.7":"1"})};return window.addEventListener("scroll",e,{passive:!0}),e(),()=>window.removeEventListener("scroll",e)},[]);let m=e=>d.startsWith(e);return(0,n.jsx)("div",{className:"header-wrapper ".concat(r?"sticky":""),children:(0,n.jsx)("div",{className:s?"wrapper-full-width":"wrapper",children:(0,n.jsx)("header",{children:(0,n.jsxs)("div",{className:"header-inner",children:[(0,n.jsx)("div",{className:"logo-wrapper",children:(0,n.jsx)(c.default,{className:"header-link",href:"/feed",children:(0,n.jsx)("img",{src:"/icons/LogoFull.svg",alt:"Feed"})})}),(0,n.jsxs)("div",{className:"header-links-wrapper",children:[(0,n.jsx)(c.default,{href:"/feed",className:"header-link ".concat(m("/feed")?"active":""),children:"Posts"}),(0,n.jsx)(c.default,{href:"/albums",className:"header-link ".concat(m("/albums")?"active":""),children:"Albums"}),(0,n.jsx)(c.default,{href:"/profile",className:"header-link ".concat(m("/profile")?"active":""),children:"Profile"}),(0,n.jsx)(c.default,{href:"/insights",className:"header-link ".concat(m("/insights")?"active":""),children:"Insights"})]}),(0,n.jsx)("div",{className:"avatar-wrapper",onClick:()=>o(e=>!e),children:(0,n.jsx)("img",{className:"avatar-small",src:"/images/avatar.png",alt:"Profile"})}),(0,n.jsx)(u,{open:l,onClose:()=>o(!1)})]})})})})}var o=r(2649);function d(e){let{children:s}=e,r=(0,t.useRouter)(),c=(0,t.usePathname)(),[i,u]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{o.Z.get("token")||["/","/login"].includes(c)?u(!0):r.replace("/")},[c,r]),i)?(0,n.jsx)(n.Fragment,{children:s}):null}let m=["/map","/albums","/insights"];function h(e){let{children:s}=e,r=(0,t.usePathname)(),a=m.some(e=>r.startsWith(e));return(0,n.jsxs)(n.Fragment,{children:["/"!==r&&(0,n.jsx)(l,{fullWidth:a}),(0,n.jsx)("div",{className:"page-content",children:(0,n.jsx)(d,{children:s})})]})}},5110:function(e,s,r){"use strict";var n=r(1920),t=r(7029),a=r(3090),c=r(7437);r(2265),r(5144),s.Z=e=>{var{color:s="primary",className:r="",children:i}=e,u=(0,a._)(e,["color","className","children"]);return(0,c.jsx)("button",(0,t._)((0,n._)({className:"btn btn-".concat(s," ").concat(r).trim()},u),{children:i}))}},7138:function(e,s,r){"use strict";r.d(s,{default:function(){return t.a}});var n=r(231),t=r.n(n)},6463:function(e,s,r){"use strict";var n=r(1169);r.o(n,"usePathname")&&r.d(s,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(s,{useRouter:function(){return n.useRouter}})},5144:function(){},3631:function(){},2973:function(){},2649:function(e,s,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)e[n]=r[n]}return e}r.d(s,{Z:function(){return t}});var t=function e(s,r){function t(e,t,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var i in a)a[i]&&(c+="; "+i,!0!==a[i]&&(c+="="+a[i].split(";")[0]));return document.cookie=e+"="+s.write(t,e)+c}}return Object.create({set:t,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},t=0;t<r.length;t++){var a=r[t].split("="),c=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(n[i]=s.read(c,i),e===i)break}catch(e){}}return e?n[e]:n}},remove:function(e,s){t(e,"",n({},s,{expires:-1}))},withAttributes:function(s){return e(this.converter,n({},this.attributes,s))},withConverter:function(s){return e(n({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(s)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[544,231,971,23,744],function(){return e(e.s=4483)}),_N_E=e.O()}]);